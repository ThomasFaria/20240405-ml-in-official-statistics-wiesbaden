---
title: An open source data science platform to build production-grade ML projects
author: 
  - "[**Romain Avouac (Insee)**]{.orange}"
  - "[**Thomas Faria (Insee)**]{.orange}"
date: 04/05/2024
date-format: "DD/MM/YYYY"
slide-number: true
footer: |
  An open source data science platform to build production-grade machine learning projects
# uncomment for French presentations:
#lang: fr-FR
# for blind readers:
slide-tone: false
# for @olevitt:
chalkboard: # press the B key to toggle chalkboard
  theme: whiteboard
# uncomment to use the multiplex mode:
#multiplex: true
format:
  # pick the light mode (onyxia-revealjs) or the dark mode (onyxia-dark-revealjs)
  onyxia-revealjs:
  #onyxia-dark-revealjs:
    output-file: index.html
    incremental: true
controls: true
css: custom.css
from: markdown+emoji
---

## Context

- Potential of [**big data sources**]{.orange} and [**ML methods**]{.orange}

- Most of the work on the [**methological side**]{.orange}
  - No formalization of relevant [**computing environments**]{.blue2}

- Statisticians are increasingly trained in [**data science**]{.orange}
  - Innovation potential is limited by [**IT environments**]{.blue2}

## Common challenges

- Ability to [**scale computing resources**]{.orange}
  - [**Distributed computing**]{.blue2}
  - [**GPUs**]{.blue2}

- Availability of [**development environments**]{.orange}
  - [**Flexibility**]{.blue2} to experiment
  - Fostering [**best development practices**]{.blue2}

- Building [**production-ready solutions**]{.orange}
  - [**Deployment**]{.blue2} of applications
  - [**Orchestratation**]{.blue2} of jobs
  - [**Monitoring**]{.blue2} tools

## Onyxia: innovation through autonomy

- An open-source project to build [**modern data science environments**]{.orange} for official statistics
  - [**Cloud technologies**]{.blue2} give statisticians more [**autonomy**]{.blue2}
  - [**Onyxia**]{.blue2} makes these technologies more [**accessible**]{.blue2}
  - No [**vendor lock-in**]{.blue2} phenomenon

- Reference platform for the [**AIML4OS project (WP3)**]{.orange}

- [**Proceedings paper**]{.orange} : feedback of our [**innovation strategy**]{.orange}
  - [**Case study**]{.blue2} : how we operationalize [**MLOps**]{.blue2} at Insee

## Making cloud technologies accessible

::: {layout="[[-1], [1], [-1]]"}
![](img/onyxia-components.png){fig-align="center"}
:::

## An extensive catalog of data science services

::: {layout="[[-1], [1], [-1]]"}
![](img/onyxia-catalog.png){fig-align="center"}
:::

## Case-study : MLOps

- Using ML methods for [**NACE classification**]{.orange} in production

- New challenges with ML project ➡️ [**MLOps**]{.orange}:
  - [**Optimizing parameters**]{.blue2};
  - [**Model versionning**]{.blue2};
  - [**Model deployment**]{.blue2};
  - [**Model monitoring**]{.blue2};
  - [**Data annotation**]{.blue2}...

- Datalab enables [**autonomy**]{.orange} from training to deployment

- Incremental approach used thanks to [**containerization**]{.orange} (bricks)

## Training and tracking a ML model

![](img/mlflow-model-registry.png){fig-align="center"}

<!-- - MLflow as the cornerstone of the project

- Orchestration for training (Argo Workflows) -->

## Serving a ML model as an API

![](img/api-datalab.png){fig-align="center"}

<!-- - Horizontal scaling (replicas, reproducibility)
- Orchestration (ArgoCD) -->

## Monitoring a ML model

![](img/monitoring-datalab.png){fig-align="center"}

<!-- - Technical monitoring vs Methodological monitoring
- Data drift / Concept drift 
- Home made dashboard -->

## Quality control in production

![](img/annotation-datalab.png){fig-align="center"}

<!-- - Golden test dataset
- Triggering model retraining -->

## Discussion

- The [**price of autonomy**]{.orange}
  - [**Entry costs**]{.blue2} of cloud technologies for organizations
  - Statisticians must adopt [**new development practices**]{.blue2}

- [**Organizational challenges**]{.orange}
  - [**Compartmentalization**]{.blue2} of skills
  - Transitioning towards an [**open-source governance**]{.blue2}

## Test it !

- Open-source project : [GitHub {{< fa brands github >}}](https://github.com/InseeFrLab/onyxia)

- Open-innovation instance : [datalab.sspcloud.fr](https://datalab.sspcloud.fr/)
