---
title: An open source data science platform to build production-grade ML projects
author: "[**Romain Avouac**, **Thomas Faria**]{.orange}"
date: 04/01/2024
date-format: "DD/MM/YYYY"
slide-number: true
footer: |
  An open source data science platform to build production-grade machine learning projects
# uncomment for French presentations:
#lang: fr-FR
# for blind readers:
slide-tone: false
# for @olevitt:
chalkboard: # press the B key to toggle chalkboard
  theme: whiteboard
# uncomment to use the multiplex mode:
#multiplex: true
format:
  # pick the light mode (onyxia-revealjs) or the dark mode (onyxia-dark-revealjs)
  onyxia-revealjs:
  #onyxia-dark-revealjs:
    output-file: index.html
    incremental: true
controls: true
css: custom.css
from: markdown+emoji
---

## Introduction

- Data scientists @ Insee's labs

- Like most NSOs, increasing use of big data sources and ML methods @ Insee

- Much work on the methological side, but not much to formalize what a modern data science infrastructure for official statistics should look like 

## Challenges

- Ability to [**scale computing resources**]{.orange}
  - [**Distributed computing**]{.blue2}
  - [**GPUs**]{.blue2}

- Provide [**flexible development environments**]{.orange}
  - [**Deployment**]{.blue2} of applications
  - [**Orchestratation**]{.blue2} of jobs

- Building [**production-ready solutions**]{.orange}
  - [**Automation**]{.blue2} tools
  - [**Monitoring**]{.blue2} tools

## Autonomy is all you need

- Onyxia : fostering autonomy through cloud-native technologies
  - Reference platform for the one-stop-shop (AIML4OS WP3)

- Goal of this talk : feedback of Insee
  - How we made cloud-technologies accessible to statisticians
  - How it was instrumental in putting ML in production

## Making cloud-technologies accessible

![](img/onyxia-components.png){fig-align="center"}

## An extensive catalog of data science services

![](img/onyxia-catalog.png){height="400" fig-align="center"}

## Case-study : MLOps

- New challenges with ML project : MLOps

- Datalab enables autonomy from training to deployment

- Iterative/incremental approach used thanks to containerization (bricks)

## From training to deployment

- MLflow at core of our use case

- Experiment tracking

- Model registry

- Orchestration for training (Argo Workflows)

## Serving a ML model as an API

![](img/api-datalab.png){fig-align="center"}

- Horizontal scaling (replicas, reproducibility)
- Orchestration (ArgoCD)

## Monitoring a ML model

![](img/monitoring-datalab.png){fig-align="center"}

- Technical monitoring vs Methodological monitoring
- Data drift / Concept drift 
- Home made dashboard

## Quality control in production

![](img/annotation-datalab.png){fig-align="center"}

- Golden test dataset
- Triggering model retraining

## Discussion

- The [**price of autonomy**]{.orange}
  - [**Entry costs**]{.blue2} of cloud technologies for organizations
  - Statisticians must adopt [**new development practices**]{.blue2}

- [**Organizational challenges**]{.orange}
  - [**Compartmentalization**]{.blue2} of skills
  - Transitioning towards an [**open-source governance**]{.blue2}

## Test it !

- Open-source project : [GitHub {{< fa brands github >}}](https://github.com/InseeFrLab/onyxia)

- Open-innovation instance : [datalab.sspcloud.fr](https://datalab.sspcloud.fr/)
